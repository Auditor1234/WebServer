# 开发时遇到的Bug
## 重复释放内存导致Aborted (core dumped)
**问题**：在测试`EventLoopThreadTest`发现使用智能指针封装EventLoop的指针会导致重复析构EventLoop对象，主线程会先删除对象，而后子线程也会删除。

**解决方法**：避免智能指针重复析构对象，对于`startLoop()`返回的指针，不要使用智能指针封装。或者使用`enable_shared_from_this`

## 新连接到来时文件描述符被读取了两次
**问题**：经过反复Debug，梳理连接到来时的处理逻辑发现，第一次处理完成后向该文件描述符写入了内容，并添加了对可写事件的监听，从而再次触发事件，又进行读写。

**解决方法**：移除对于非必要事件的监听，不再重复写入。


## 使用ChatClient测试连接时发现没有收到数据
**问题**：因为使用了`char buf[1024]`接收数据，使用`strlen(buf)`作为`read()`中的的`__nbytes`变量，并且`buf`均初始化为0，导致`strlen(buf)`为0，从而读取不到任何数据

**解决方法**：使用`sizeof(buf)`替代`strlen(buf)`


